## 初始Redis
***

### 简介
1、Redis是远程内存数据库， 不仅性能强劲， 还具有复制特性以及为解决问题而生的独一无二的数据模型，Redis提供五种数据结构。

2、Redis是非关系数据库， 可以存储键与5种不同类型的值之间的映射， 可以将存储在内存的键值对数据持久化到硬盘， 可以使用
复制特性来扩展读性能， 还可以使用客户端分片来扩展写性能。（字符串、列表、集合、散列表、有序集合）

3、Redis不使用表， 它的数据库也不会预定义或者强制去要求用户对Redis存储的不同数据进行关联；

4、一般来说， 许多用户只会在Redis的性能或者功能是必要的情况下， 才会将数据存储到Redis里面： 如果程序对性能的要求不高
又或者因为费用原因而没办法将大量数据存储到内存里面， 那么用户可能会选择使用关系数据库， 或者使用其他非关系数据库。

#### Redis持久化方法：
1、时间点转存（point-in-time dump）,转存操作既可以在“指定时间段内有指定数量的写操作执行”这一条被满足时执行， 又可以
通过调用两条转储到硬盘（dump-to-disk）命令中的任何一条来执行；

2、将所有修改了数据库的命令都写入一个只追加(append-only)文件里面， 用户可以根据数据的主要程度， 将只追加写入设置为从不同步
、每秒同步一次或者每写入一个命令就同步一次。

#### Redis主从复制特性：
***

## Redis 数据结构简介
1、 Redis存储键与5种不同数据结构 --> 字符串（STRING)、列表(LIST)、集合(SET)、散列(HASH)、有序集合(ZSET);

2、 Redis数据结构

| 数据结构 |          结构存储的值                      |          结构的读写能力               |
| ------- |----------------------------------------| -----------------------------------|
| STRING | 可以是字符串、整数或者浮点数                   | 对整个字符串或者字符串的其中一部分执行操作； 对整数和浮点数执行自增或者自减 |
| LIST   | 一个链表， 链表上的每个节点都包含了一个字符串     | 从链表的两端推入或者弹出元素； 根据偏移量进行修剪； 读取单个或者多个元素； 根据值查找或者移出元素 |
| SET    | 包含字符串的无序收集器， 并且被包含的每个字符串都是独一无二的， 各不相同 | 添加、获取、移出单个元素；  计算交集、并集、差集； 从集合里面取随机值 |
| HASH   | 包含键值对的无序散列表                     | 添加、获取、移出单个键值对、获取所有键值对 |
| ZSET   | 字符串成员与浮点数分值之间的有序映射， 元素的排列顺序由分值的大小决定 | 添加、获取、删除单个元素； 根据分值范围或者成员来获取元素 |


## redis安装使用
1、brew redis       

2、启动redis-cli`cd /usr/local/redis `    --> ` redis-server`   --> `redis-cli`         

### 字符串（STRING）
1、 常用命令： set， get、 del      -->  设置存储在给定键中的值、获取存储在给定键中的值、删除存储在给定键中的值。

### Redis中的列表

1、一个列表结构可以有序存储多个字符串， 和表示字符串时使用的方法一样。      

2、常用命令： lpush、rpush分别表示将元素推入列表的左端和右端；          

            lpop、rpop分别表示从列表的左端和右端弹出元素；      

            lindex命令用于获取列表在给定位置上的一个元素； 

                lrange用于获取列表在给定范围上的所有元素；    等等。。。            

3、注释： `lrange list-key 0 -1`使用0为范围的起始索引， -1为范围的结束索引， 可以取出列表包含的所有元素；    

         `lindex list-key 1`使用lindex获取列表里面取出单个元素；

         `lpop list-key`从列表里面弹出一个元素，被弹出的元素将不再存在于列表；
            

### Redis集合： Redis的集合和列表都可以存储多个字符串， 不同之处在于：列表可以存储多个相同的字符串， 而集合则通过使用散列表来保存自己存储的每个字符串都是各不相同的（这些散列表只有键， 但没有与键相关联的值）

1、常用命令： sadd、 smembers、sismember、srem；        

            sadd将给定元素添加到集合；          

            smembers返回集合包含的所有元素；        

            sismember检查给定元素是否存在于集合中；         

            srem如果给定的元素存在于集合中， 那么移出这个元素。     

2、注释： sadd key value                 -->       尝试将一个元素添加到集合的时候， 命令返回1表示这个元素被成功的添加到了集合里面， 返回0则表示这个元素已经存在于集合中；     

         smembers key                   -->        获取集合包含的所有元素将得到一个由元素组成的序列； 

         sismember key value            -->     查询一个元素是否存在于集合中；        

         srem key value                 -->        在使用命令移出集合中的元素时， 命令会返回被移出元素的数量。

### Redis散列： Redis的散列可以存储多个键值对之间的映射。 和字符串一样， 散列存储的值既可以是字符串又可以是数字值， 并且用户同样可以对散列存储的数字值执行自增操作自减操作。

1、常用命令： hset、hget、hgetall、hdell；

            hset： 在散列里面关联其给定的键值对；    

            hget： 获取指定散列键的值；

            hgetall： 获取散列包含的所有键值对；  

            hdel： 如果给定键存在于散列里面， 那么移出这个键。  

2、注释：  hset hash-key sub-key1 value1        -->   在尝试添加键值对到散列的时候， 命令会返回一个值来表示给定的键是否已经存在于散列；         

          hgetall hash-key              -->   获取散列包含的所有键值对时， 会返回字典；                     

          hdel hash-key                 -->   在删除键值对的时候， 命令会返回一个值来表示给定的键在移出之前是否存在于散列里面；             

          hget hash-key sub-key1        -->   从散列里面获取某个键的值。        

### 有序集合： 有序集合和散列一样， 都用于存储键值对， 有序集合的键被称为成员， 每个成员都是各不相同的； 而有序集合的值则被称为分值（score），分值必须是浮点数。 有序集合是Redis里面唯一一个既可以根据成员访问元素（和散列一样）， 又可以根据分值以及分值的排列顺序来访问元素的结构。

1、常用命令：  zadd、 zrange、zrangebyscore、zrem；     

             zadd： 将一个带有给定分值的成员添加到有序集合里面；            

             zrange： 根据元素在有序排列中所处的位置， 从有序集合里面获取多个元素；         

             zrangebyscore： 获取有序集合在给定分值范围内的所有元素；           

             zrem： 如果给定成员存在于有序集合，那么移除这个成员。          
            
2、注释：  zadd zset-key 728 member1        -->       在尝试向有序集合添加元素的时候， 命令会返回他新添加元素的数量；       

          zrange zset-key 0 -1 withscores    -->    在获取有序集合包含的所有元素时，多个元素会按照分值大小进行排序，客户端会将元素的分值转换成浮点数；              

          zrangebyscore zset-key 0 800 withscores     -->     用户也可以根据分值来获取有序集合中的一部分元素；          

          zrem zset-key member1             -->         在移出有序集合元素的时候， 命令会返回被移出元素的数量。


***
#### 以上为Redis的5种数据结构， 也是一些常用的基本操作命令。 更多更详细的命令， 待续。。。
***      



            


