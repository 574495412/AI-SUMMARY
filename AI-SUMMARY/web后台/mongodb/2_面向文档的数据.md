## 面向文档的数据
MongoDB本身并不强制使用schema， 但是每个应用都需要一些如何存储数据的基本内部标准。      

### schema设计原则
数据库schema设计是基于数据库特性、数据属性和应用系统选择最好的数据表现形式的过程。

数据库系统建模： 
1、 应用访问的模式是什么？          
2、数据的基本单位？         
3、数据库的功能是什么？         
4、如何记录生成好的唯一ID或者主键

***
## 设计电商网站数据模型核心概念： 数据库、集合、文档

### 数据库是集合和索引的命名空间和物理分组
1、MongoDB没有显示的创建数据库的方式， 相反会在第一次写入数据的时候创建数据库。     

2、通过调用products.find({}).delete_many集合products的所有文档。这个命令不会删除集合， 只会清空集合。 要删除集合可以调用products.drop   

3、数据库文件和分配： 当数据库创建的时候， MongoDB会在磁盘上分配一系列数据库文件集合， 包括所有的集合、索引， 还有其他元素。 数据库文件存储在启动mongod时
dbpath参数指定的目录文件夹里。不指定参数时， mongod会在/data/db文件夹里存储数据。   

4、首先， 注意mongod.loc文件， 它可以存储服务器进程ID。 不要删除或者修改锁文件， 除非你正在宕机事故中恢复数据。 如果要启动mongod， 就会得到锁文件的错误信息， 导致'不干净关机',而且我们可能必须启动恢复进程。   

5、所有的数据库文件都前缀了属于自己的数据库名字。 如：garden.ns是第一个生成的文件。 文件扩展名是ns， 表示命名空间。 数据库中没个集合和索引的元数据有自己的命名空间文件， 它的组织形式是哈希表。 默认情况下.ns文件固定大小为16MB，它大约允许存储26000个数据。 可通过-nssize修改。            
      
6、处理创建命名空间文件， mongodb还为集合和索引在文件里分配空间， 从0开始以递增整数结束。 随着持续添加数据到数据库， MongoDB会持续分配更多的数据文件。 每个数据库文件会是前一个数据文件的两倍大小， 直到最大的文件达到2GB的上限为止。 此次， 后续文件都是2GB。 以此类推， 这里假设数据大小是按一定的速度增长的， 那么书籍文件应该持续增长地分配， 这是一个常见的分配策略。 当然， 其后果就是实际分配的空间比使用的空间大得多。
